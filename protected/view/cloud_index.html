<style>
    .breakall {
        word-break: break-all;
    }
    .sub {
        font-size: 80%;
        font-weight: 400;
        color: gray;
    }
    tr.collapse.show {
        display: flex!important;
    }
    td {
        height: fit-content;
    }
</style>
<div class="container">
    <nav aria-label="breadcrumb" class="mt-3">
        <ol class="breadcrumb align-items-center p-2">
            <li><button type="button" class="btn btn-lg px-2 py-1 mb-0"><i class="MDI arrow-left"></i></button></li>
            <li><button type="button" class="btn btn-lg px-2 py-1 mb-0"><i class="MDI arrow-right"></i></button></li>
            <li><button type="button" class="btn btn-lg px-2 py-1 mb-0"><i class="MDI refresh"></i></button></li>
            <li><button type="button" class="btn btn-lg btn-dark px-2 py-1 mb-0" data-toggle="button"><i class="MDI delete-empty"></i></button></li>
            <li class="breadcrumb-item"><a href="#/">Home</a></li>
            <li class="breadcrumb-item"><a href="#/">Home</a></li>
            <li class="breadcrumb-item"><a href="#/">Home</a></li>
            <li class="breadcrumb-item"><a href="#/">Home</a></li>
            <li class="breadcrumb-item"><a href="#/">Home</a></li>
            <li class="breadcrumb-item"><a href="#/">Home</a></li>
            <li class="breadcrumb-item"><a href="#/">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">Sample</li>
        </ol>
    </nav>
    <button class="btn"><i class="MDI upload"></i> 上传文件</button>
    <button class="btn"><i class="MDI folder-plus"></i> 新建文件夹</button>
    <div class="float-right">
        <button type="button" class="btn btn-lg float-right" id="order">
            <i class="MDI sort-ascending"></i>
        </button>
        <button type="button" class="btn btn-lg dropdown-toggle float-right" id="sortby" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            <span class="MDI sort" aria-hidden="true" aria-label="排序"></span>
        </button>
        <div class="dropdown-menu" aria-labelledby="sortby">
            <a class="dropdown-item" href="#">名称</a>
            <a class="dropdown-item" href="#">大小</a>
            <a class="dropdown-item" href="#">修改时间</a>
        </div>
    </div>
    <table class="table col-12 table-hover table">
        <thead>
            <tr class="row mx-0">
                <th class="col-lg-9 col-md-8 col-sm-6 breakall">文件名 <i class="MDI arrow-up-bold"></i></th>
                <th class="col-md-1 col-sm-2 d-none d-sm-block small">大小</th>
                <th class="col-lg-2 col-md-3 col-sm-4 d-none d-sm-block small">上传时间</th>
            </tr>
        </thead>
        <tbody>
            <tr class="row mx-0" data-toggle="collapse" data-target="#op0" aria-expanded="true" aria-controls="collapseOne">
                <td class="col-lg-9 col-md-8 col-sm-6 breakall"><i class="MDI folder"></i> 学习资料</td>
                <td class="col-md-1 col-sm-2 d-none d-sm-block small">-</td>
                <td class="col-lg-2 col-md-3 col-sm-4 d-none d-sm-block small">-</td>
            </tr>
            <tr class="row mx-0 collapse" id="op0" data-parent="table">
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI download"></i> 下载</button></td>
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI eye"></i> 预览</button></td>
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI share-variant"></i> 分享</button></td>
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI pencil"></i> 移动</button></td>
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI delete"></i> 删除</button></td>
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI content-copy"></i> 复制</button></td>
            </tr>
            <tr class="row mx-0" data-toggle="collapse" data-target="#op1" aria-expanded="true" aria-controls="collapseOne">
                <td class="col-lg-9 col-md-8 col-sm-6 breakall"><i class="MDI file"></i> README.md<br><span class="sub">/sample</span></td>
                <td class="col-md-1 col-sm-2 d-none d-sm-block small">233KB</td>
                <td class="col-lg-2 col-md-3 col-sm-4 d-none d-sm-block small">2019-1-27 21:06:31</td>
            </tr>
            <tr class="row mx-0 collapse" id="op1" data-parent="table">
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI download"></i> 下载</button></td>
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI eye"></i> 预览</button></td>
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI share-variant"></i> 分享</button></td>
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI pencil"></i> 移动</button></td>
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI delete"></i> 删除</button></td>
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI content-copy"></i> 复制</button></td>
            </tr>
            <tr class="row mx-0" data-toggle="collapse" data-target="#op2" aria-expanded="true" aria-controls="collapseOne">
                <td class="col-lg-9 col-md-8 col-sm-6 breakall"><i class="MDI file"></i> Long.Long.Long.Long.Long.Long.Long.Long.Long.Long.File.Name.mp4<br><span class="sub">/sample</span></td>
                <td class="col-md-1 col-sm-2 d-none d-sm-block small">233KB</td>
                <td class="col-lg-2 col-md-3 col-sm-4 d-none d-sm-block small">2019-1-27 21:06:31</td>
            </tr>
            <tr class="row mx-0 collapse" id="op2" data-parent="table">
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI download"></i> 下载</button></td>
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI eye"></i> 预览</button></td>
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI share-variant"></i> 分享</button></td>
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI pencil"></i> 移动</button></td>
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI delete"></i> 删除</button></td>
                <td class="col-sm-2 col-6 p-1"><button class="btn m-0"><i class="MDI content-copy"></i> 复制</button></td>
            </tr>
        </tbody>
    </table>
</div>
<script>
    // Search
    document.getElementsByClassName("navbar")[0].getElementsByTagName("form")[0].onsubmit = function(e) {
        e.preventDefault();
    }
    onsearch = function(e) {
        var $q = $("input[name=q]");
        $q.blur();
        console.log($q.val());
    }
    // Location
    var hstr = [];
    function availableHash(hash) {
        if (!hash.startsWith('#/')) return false;
        if (!hash.endsWith('/')) return false;
        if (hash.indexOf('/./') != -1) return false;
        if (hash.indexOf('/../') != -1) return false;
        return true;
    }
    window.onhashchange = function(ev) {
        console.log(ev);
        if (!availableHash(location.hash)) {
            
        }
    }
    if (!availableHash(location.hash)) {
        location.hash = "#/";
    }
    function backward() {

        return false;
    }
    function foreward() {

        return false;
    }
    // File List
    function clearFileList() {
        $("tbody").remove();
    }
    function setFileList(list) {
        clearFileList();
        var body = $("table")[0].createTBody();
        
    }
    function loadFileList(path) {

    }
    // UI
    window.onclick = function(ev) {
        if (!ev.path.includes($("tbody")[0])) {
            $("table .collapse.show").collapse('hide');
        }
    };
    // Shortcuts
    window.onmouseup = function(ev) {
        if (ev.button == 3) {
            if (backward()) {
                ev.preventDefault();
            }
        } else if (ev.button == 4) {
            if (foreward()) {
                ev.preventDefault();
            }
        }
    };
    // sample
    document.body.onload = function() {
        
    };
</script>